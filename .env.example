# =============================================================================
# ServerPilot — Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit your actual .env file to version control.

# ─── Backend ──────────────────────────────────────────────────────────────────

# Database URL
# SQLite (development):
DATABASE_URL=sqlite:///./serverpilot.db
# PostgreSQL (production):
# DATABASE_URL=postgresql://serverpilot:yourpassword@db:5432/serverpilot

# JWT secret key — generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE-ME-generate-with-secrets.token_hex-32

# JWT algorithm (HS256 is standard, RS256 for asymmetric)
ALGORITHM=HS256

# Token expiry in minutes (default: 8 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=480

# Allowed frontend origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,https://your-domain.com

# Health check interval in seconds (how often to ping all agents)
HEALTH_CHECK_INTERVAL=30

# Default admin credentials (change immediately after first login!)
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_PASSWORD=changeme

# ─── PostgreSQL (for docker-compose.prod.yml) ─────────────────────────────────

POSTGRES_DB=serverpilot
POSTGRES_USER=serverpilot
POSTGRES_PASSWORD=CHANGE-ME-strong-db-password

# ─── Agent ────────────────────────────────────────────────────────────────────

# Token the agent uses to authenticate requests from the panel
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
AGENT_TOKEN=CHANGE-ME-generate-a-unique-token-per-server

# Port the agent listens on (default 8765, must be open in firewall)
AGENT_PORT=8765

# ─── Frontend ─────────────────────────────────────────────────────────────────

# API base URL (leave as /api when using nginx reverse proxy)
VITE_API_URL=/api

# WebSocket URL (leave empty to auto-detect from window.location.host)
VITE_WS_URL=

# ─── Deployment ───────────────────────────────────────────────────────────────

# SSL/TLS certificate paths (used in docker-compose.prod.yml)
SSL_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# Domain name for nginx SSL config
DOMAIN=your-domain.com
